<app-loader *ngIf="isLoading"></app-loader>

<div class="body">
  <div class="LoginMain">
    <!-- <i class="fa fa-camera bg-danger"></i> -->
    <!-- <h4>Sign Up</h4> -->
    <input type="checkbox" id="chk" aria-hidden="true" />
    <!-- login -->
    <div class="login">
      <form [formGroup]="loginForm" (ngSubmit)="loginUser(loginForm)">
        <label for="chk" aria-hidden="true">Login</label>
        <div class="form-group mb-3">
          <input
            type="email"
            name="email"
            placeholder="Email"
            required=""
            formControlName="Email"
            style="padding: 20px"
            (change)="ValidateEmail(loginForm.value.Email)"
          />
          <div>
            <small
              *ngIf="hasemailerror == true"
              class="text-danger error-message"
              >Email is required</small
            >
            <small
              *ngIf="loginForm.get('Email')?.hasError('email')"
              class="text-danger error-message"
              >Invalid email format</small
            >
          </div>
        </div>

        <div class="form-group mb-3">
          <input
            type="{{ showPassword ? 'password' : 'text' }}"
            name="pswd"
            placeholder="Password"
            required=""
            formControlName="PasswordHash"
            style="padding: 20px"
            (change)="ValidatePassword(loginForm.value.Email)"
          />
          <i
            style=" position: absolute"
            class="{{
              showPassword ? 'bi bi-eye-slash-fill' : 'bi bi-eye-fill'
            }} toggle-password"
            data-target="password"
            (click)="togglePasswordVisibility()"
          ></i>
          <!-- <div>
            <small
              *ngIf="haspsworderror && loginForm.get('PasswordHash')?.errors?.['required']"
              class="text-danger error-message"
              >Password is required</small
            >
            <small
              *ngIf="loginForm.get('PasswordHash')?.errors?.['pattern']"
              class="text-danger error-message"
              >Password does not match the required pattern</small
            >
          </div> -->
        </div>
<button
          type="submit"
          [disabled]="
            hasemailerror || loginForm.controls['Email'].hasError('email')
          "
        >
          Login
        </button>
        <a href="" class="Pwordreset">Forgot Password?</a>
      </form>
    </div>
    <!-- Signup -->
    <!-- <div class="signup">
      <form [formGroup]="form" (ngSubmit)="RegisterUsers(form)">
        <label for="chk" aria-hidden="true">Sign up</label>
        <div class="form-group mb-2">
          <input
            type="text"
            name="txt"
            placeholder="Full Name"
            required=""
            formControlName="FullName"
            class="mb-2 p-3"
            (change)="ValidateName(form.value.FullName)"
          />
          <div>
            <small
              *ngIf="hasNameError && form.get('FullName')?.errors?.['required']"
              class="text-danger error-message"
              >Name is required</small
            >
            <small
              *ngIf="hasNameError && form.get('FullName')?.errors?.['invalidName']"
              class="text-danger error-message"
              >Invalid name format. Only letters allowed</small
            >
          </div>
        </div>

        <div class="form-group mb-2">
          <input
            type="email"
            name="email"
            placeholder="Email"
            required=""
            formControlName="Email"
            class="p-3"
            (change)="ValidateEmail(form.value.Email)"
          />
          <div>
            <small
              *ngIf="hasemailerror == true"
              class="text-danger error-message"
              >Email is required</small
            >
            <small
              *ngIf="form.get('Email')?.hasError('email')"
              class="text-danger error-message"
              >Invalid email format</small
            >
          </div>
        </div>
        <div class="form-group mb-2">
            <select  formControlName="Designation"
            class="mb-2 p-3">
                <option value="" disabled selected>Select Designation</option>
                <option value="IT">IT</option>
                <option value="HR">HR</option>
            </select>
         </div>
         <div class="form-group mb-2">
            <select  formControlName="EmployeeRole"
            class="mb-2 p-3">
                <option value="" >Select  Role</option>
                <option value="Support">Support</option>
                <option value="Talent_Aquisition">Talent Aquisition</option>
            </select>
         </div>
         <input type="date" id="start"
         name="date"
         required=""
         value="1960-01-01" 
         formControlName="DateOfBirth"
         class="mb-2 p-3"
         min="1960-01-01" max="2018-12-31" 
         style="font-size: larger;"/>

         <div class="password-field">
            <input
            placeholder="Password"
            required=""
            formControlName="PasswordHash"
            (change)="ValidatePassword(form.value.PasswordHash)"
              type="{{ showPassword ? 'password' : 'text' }}"
              name="pswd"
              required=""
              class="mb-2 p-3"
            />
            <i
              class="{{
                showPassword ? 'bi bi-eye-slash-fill' : 'bi bi-eye-fill'
              }} toggle-password"
              data-target="password"
              (click)="togglePasswordVisibility()"
            ></i>
            <div>
                <small
                  *ngIf="haspsworderror && form.get('PasswordHash')?.errors?.['required']"
                  class="text-danger error-message"
                  >Password is required</small
                >
                <small
                  *ngIf="form.get('PasswordHash')?.errors?.['pattern']"
                  class="text-danger error-message"
                  >Password does not match the required pattern</small
                >
              </div>
          </div>
      
        <div class="password-field">
          <input
            type="{{ showPassword ? 'password' : 'text' }}"
            name="Confirmpswd"
            placeholder="Confirm Password"
            required=""
            formControlName="ConfirmPasswordHash"
            class="mb-2 p-3"
          />
          <i
            class="{{
              showPassword ? 'bi bi-eye-slash-fill' : 'bi bi-eye-fill'
            }} toggle-password"
            data-target="password"
            (click)="togglePasswordVisibility()"
          ></i>
          <div *ngIf="passwordMatchError" class="text-danger error-message">
            Passwords do not match
          </div>
        </div>

        <button [disabled]="disableButton" type="submit">Sign up</button>
      </form>
    </div> -->
  </div>
</div>
